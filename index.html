<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üç¶ Helados.mix - Pedidos</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root { --primario: #ff85a2; --secundario: #fce4ec; --whatsapp: #25d366; --mp-azul: #009EE3; --mp-verde: #00A15E; }
        * { box-sizing: border-box; }
        body { font-family: 'Poppins', sans-serif; background-color: var(--secundario); margin: 0; padding-bottom: 180px; color: #333; }
        header { background-color: var(--primario); color: white; text-align: center; padding: 1.5rem 1rem; border-bottom-left-radius: 30px; border-bottom-right-radius: 30px; }
        .container { padding: 15px; width: 95%; max-width: 550px; margin: auto; }
        .categoria { background: white; border-radius: 20px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 12px rgba(0,0,0,0.08); text-align: center; }
        
        /* Estilo de los productos tipo "casilla" */
        .producto-fila { 
            display: flex; align-items: center; justify-content: space-between; 
            padding: 15px; border: 2px solid #f0f0f0; border-radius: 15px; 
            margin-bottom: 10px; cursor: pointer; transition: 0.2s;
        }
        .producto-fila:has(input:checked) { border-color: var(--primario); background-color: #fff9fa; }
        .info-p { text-align: left; }
        .nombre-p { font-weight: bold; display: block; font-size: 1.1rem; }
        .precio-p { color: #888; font-size: 0.9rem; }
        
        input[type="checkbox"] { transform: scale(1.6); accent-color: var(--primario); cursor: pointer; }

        .opcion { display: flex; align-items: center; padding: 12px; border-bottom: 1px solid #f2f2f2; cursor: pointer; text-align: left; }
        .input-dir { width: 100%; padding: 15px; border: 2px solid #eee; border-radius: 12px; text-align: center; font-family: inherit; }
        .total-box { font-size: 2rem; font-weight: bold; margin: 15px 0; color: var(--primario); }
        .btn-alias { background-color: var(--mp-azul); color: white; padding: 15px; border-radius: 12px; cursor: pointer; font-weight: bold; display: block; border: none; width: 100%; font-size: 1.1rem; }
        .btn-float { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background-color: var(--whatsapp); color: white; padding: 20px; border-radius: 35px; width: 90%; max-width: 450px; border: none; cursor: pointer; font-size: 1.1rem; font-weight: bold; z-index: 1000; box-shadow: 0 4px 15px rgba(0,0,0,0.2); }
        h3 { color: #aaa; font-size: 0.8rem; text-transform: uppercase; margin: 20px 0 10px; }
    </style>
</head>
<body>

<header>
    <h1 style="margin:0">Helados.mix</h1>
    <p style="margin:0">Seleccion√° lo que quieras llevar</p>
</header>

<div class="container">
    <div class="categoria">
        <h2 style="font-size: 1.2rem; color: var(--primario);">1. Eleg√≠ tus productos</h2>
        
        <label class="producto-fila"><div class="info-p"><span class="nombre-p">1 KG</span><span class="precio-p">$14.000</span></div><input type="checkbox" name="prod" data-n="1 KG" data-p="14000" onchange="actualizar()"></label>
        <label class="producto-fila"><div class="info-p"><span class="nombre-p">1 KG (otro m√°s)</span><span class="precio-p">$14.000</span></div><input type="checkbox" name="prod" data-n="1 KG" data-p="14000" onchange="actualizar()"></label>

        <hr style="border: 0; border-top: 1px solid #eee; margin: 15px 0;">

        <label class="producto-fila"><div class="info-p"><span class="nombre-p">1/2 KG</span><span class="precio-p">$8.000</span></div><input type="checkbox" name="prod" data-n="1/2 KG" data-p="8000" onchange="actualizar()"></label>
        <label class="producto-fila"><div class="info-p"><span class="nombre-p">1/2 KG (otro m√°s)</span><span class="precio-p">$8.000</span></div><input type="checkbox" name="prod" data-n="1/2 KG" data-p="8000" onchange="actualizar()"></label>

        <hr style="border: 0; border-top: 1px solid #eee; margin: 15px 0;">

        <label class="producto-fila"><div class="info-p"><span class="nombre-p">1/4 KG</span><span class="precio-p">$4.000</span></div><input type="checkbox" name="prod" data-n="1/4 KG" data-p="4000" onchange="actualizar()"></label>
        <label class="producto-fila"><div class="info-p"><span class="nombre-p">1/4 KG</span><span class="precio-p">$4.000</span></div><input type="checkbox" name="prod" data-n="1/4 KG" data-p="4000" onchange="actualizar()"></label>
        <label class="producto-fila"><div class="info-p"><span class="nombre-p">1/4 KG</span><span class="precio-p">$4.000</span></div><input type="checkbox" name="prod" data-n="1/4 KG" data-p="4000" onchange="actualizar()"></label>
        <label class="producto-fila"><div class="info-p"><span class="nombre-p">1/4 KG</span><span class="precio-p">$4.000</span></div><input type="checkbox" name="prod" data-n="1/4 KG" data-p="4000" onchange="actualizar()"></label>

        <hr style="border: 0; border-top: 1px solid #eee; margin: 15px 0;">

        <label class="producto-fila"><div class="info-p"><span class="nombre-p">Conos Simples (x5)</span><span class="precio-p">$1.000</span></div><input type="checkbox" name="prod" data-n="Conos Simples (x5)" data-p="1000" onchange="actualizar()"></label>
        <label class="producto-fila"><div class="info-p"><span class="nombre-p">Conos Crocantes (x3)</span><span class="precio-p">$1.000</span></div><input type="checkbox" name="prod" data-n="Conos Crocantes (x3)" data-p="1000" onchange="actualizar()"></label>
    </div>

    <div class="categoria">
        <h2 style="font-size: 1.2rem; color: var(--primario);">2. Direcci√≥n</h2>
        <input type="text" id="dir" class="input-dir" placeholder="Calle y n√∫mero o retiro local">
    </div>

    <div class="categoria">
        <h2 style="font-size: 1.2rem; color: var(--primario);">3. Sabores</h2>
        <h3>Cremas</h3>
        <div id="lista-crema"></div>
        <h3>Al Agua</h3>
        <div id="lista-agua"></div>
    </div>

    <div class="categoria">
        <h2 style="font-size: 1.2rem; color: var(--primario);">4. Pago</h2>
        <div class="total-box">Total: $<span id="totalTxt">0</span></div>
        <button type="button" class="btn-alias" onclick="copiar()">
            Copiar Alias: <strong>helados.mix</strong>
        </button>
        <div id="msjC" style="visibility: hidden; color: var(--mp-verde); margin-top: 10px; font-weight: bold;">¬°Copiado! ‚úÖ</div>
    </div>

    <button type="button" class="btn-float" onclick="enviar()">
        ENVIAR POR WHATSAPP<br>
        <span id="resumen" style="font-size: 0.8rem; font-weight: normal;">Tu pedido est√° vac√≠o</span>
    </button>
</div>

<script>
    function actualizar() {
        const checks = document.querySelectorAll('input[name="prod"]:checked');
        let total = 0; let det = [];
        checks.forEach(c => {
            total += parseInt(c.dataset.p);
            det.push(c.dataset.n);
        });
        document.getElementById('totalTxt').innerText = total.toLocaleString('es-AR');
        document.getElementById('resumen').innerText = det.length ? "Llev√°s: " + det.join(" + ") : "Tu pedido est√° vac√≠o";
    }

    const crema = ["üå∞ Almendrado", "üç™ Tramontana", "üçØ Dulce de leche", "üç´ Chocotorta", "üçå Banana split", "üçÆ Flan con dulce", "üç´ Chocolate", "üçì Frutilla a la crema", "üç¶ Americana", "üåø Menta granizada", "üç¶ Vainilla", "‚ùÑÔ∏è Granizado", "üçå Banana", "‚òÅÔ∏è Cielo", "üçí Frutos del bosque", "üç´ Marroc", "ü•ú Pistacho", "üç∞ Chantilly", "üç´ Cadbury", "üåà Arcoiris"];
    const agua = ["üçç Anan√° al agua", "üçì Frutilla al agua", "üçã Lim√≥n al agua", "üçë Durazno"];

    function ponerSabores(lista, id) {
        const d = document.getElementById(id);
        lista.sort().forEach(s => {
            d.innerHTML += `<label class="opcion"><input type="checkbox" name="s" value="${s}"> <span>${s}</span></label>`;
        });
    }
    ponerSabores(crema, 'lista-crema');
    ponerSabores(agua, 'lista-agua');

    function copiar() {
        navigator.clipboard.writeText("helados.mix").then(() => {
            document.getElementById('msjC').style.visibility = "visible";
            setTimeout(() => { document.getElementById('msjC').style.visibility = "hidden"; }, 2000);
        });
    }

    function enviar() {
        const checks = document.querySelectorAll('input[name="prod"]:checked');
        if (!checks.length) return alert("Eleg√≠ al menos un producto.");
        
        let ped = "";
        checks.forEach(c => ped += "‚Ä¢ " + c.dataset.n + "%0A");
        
        let sabs = "";
        document.querySelectorAll('input[name="s"]:checked').forEach(s => sabs += "‚úÖ " + s.value + "%0A");
        
        const url = `https://wa.me/5491137610574?text=¬°Hola *Helados.mix*! üëã%0A%0A*Pedido:*%0A${ped}%0A*Sabores:*%0A${sabs || "A elecci√≥n"}%0A*Direcci√≥n:* ${document.getElementById('dir').value || "Retiro"}%0A%0A*TOTAL: $${document.getElementById('totalTxt').innerText}*`;
        window.open(url);
    }
</script>
</body>
</html>
